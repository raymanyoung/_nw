<script type="text/javascript" >
    var mapping = [
{index:1 , id: 12 , x:11, y:0},
{index:2 , id: 13 , x:12, y:0},
{index:3 , id: 14 , x:13, y:0},
{index:4 , id: 42 , x:11, y:1},
{index:5 , id: 43 , x:12, y:1},
{index:6 , id: 44 , x:13, y:1},
{index:7 , id: 64 , x:3, y:2},
{index:8 , id: 65 , x:4, y:2},
{index:9 , id: 66 , x:5, y:2},
{index:10 , id: 72 , x:11, y:2},
{index:11 , id: 73 , x:12, y:2},
{index:12 , id: 74 , x:13, y:2},
{index:13 , id: 94 , x:3, y:3},
{index:14 , id: 95 , x:4, y:3},
{index:15 , id: 96 , x:5, y:3},
{index:16 , id: 124 , x:3, y:4},
{index:17 , id: 125 , x:4, y:4},
{index:18 , id: 126 , x:5, y:4},
{index:19 , id: 232 , x:21, y:7},
{index:20 , id: 233 , x:22, y:7},
{index:21 , id: 234 , x:23, y:7},
{index:22 , id: 262 , x:21, y:8},
{index:23 , id: 263 , x:22, y:8},
{index:24 , id: 264 , x:23, y:8},
{index:25 , id: 292 , x:21, y:9},
{index:26 , id: 293 , x:22, y:9},
{index:27 , id: 294 , x:23, y:9},
{index:28 , id: 364 , x:3, y:12},
{index:29 , id: 365 , x:4, y:12},
{index:30 , id: 366 , x:5, y:12},
{index:31 , id: 372 , x:11, y:12},
{index:32 , id: 373 , x:12, y:12},
{index:33 , id: 374 , x:13, y:12},
{index:34 , id: 394 , x:3, y:13},
{index:35 , id: 395 , x:4, y:13},
{index:36 , id: 396 , x:5, y:13},
{index:37 , id: 402 , x:11, y:13},
{index:38 , id: 403 , x:12, y:13},
{index:39 , id: 404 , x:13, y:13},
{index:40 , id: 424 , x:3, y:14},
{index:41 , id: 425 , x:4, y:14},
{index:42 , id: 426 , x:5, y:14},
{index:43 , id: 432 , x:11, y:14},
{index:44 , id: 433 , x:12, y:14},
{index:45 , id: 434 , x:13, y:14},
{index:46 , id: 475 , x:24, y:15},
{index:47 , id: 476 , x:25, y:15},
{index:48 , id: 477 , x:26, y:15},
{index:49 , id: 505 , x:24, y:16},
{index:50 , id: 506 , x:25, y:16},
{index:51 , id: 507 , x:26, y:16},
{index:52 , id: 535 , x:24, y:17},
{index:53 , id: 536 , x:25, y:17},
{index:54 , id: 537 , x:26, y:17},
{index:55 , id: 648 , x:17, y:21},
{index:56 , id: 649 , x:18, y:21},
{index:57 , id: 650 , x:19, y:21},
{index:58 , id: 678 , x:17, y:22},
{index:59 , id: 679 , x:18, y:22},
{index:60 , id: 680 , x:19, y:22},
{index:61 , id: 708 , x:17, y:23},
{index:62 , id: 709 , x:18, y:23},
{index:63 , id: 710 , x:19, y:23},
{index:64 , id: 714 , x:23, y:23},
{index:65 , id: 715 , x:24, y:23},
{index:66 , id: 716 , x:25, y:23},
{index:67 , id: 721 , x:0, y:24},
{index:68 , id: 722 , x:1, y:24},
{index:69 , id: 723 , x:2, y:24},
{index:70 , id: 744 , x:23, y:24},
{index:71 , id: 745 , x:24, y:24},
{index:72 , id: 746 , x:25, y:24},
{index:73 , id: 751 , x:0, y:25},
{index:74 , id: 752 , x:1, y:25},
{index:75 , id: 753 , x:2, y:25},
{index:76 , id: 763 , x:12, y:25},
{index:77 , id: 764 , x:13, y:25},
{index:78 , id: 765 , x:14, y:25},
{index:79 , id: 774 , x:23, y:25},
{index:80 , id: 775 , x:24, y:25},
{index:81 , id: 776 , x:25, y:25},
{index:82 , id: 781 , x:0, y:26},
{index:83 , id: 782 , x:1, y:26},
{index:84 , id: 783 , x:2, y:26},
{index:85 , id: 793 , x:12, y:26},
{index:86 , id: 794 , x:13, y:26},
{index:87 , id: 795 , x:14, y:26},
{index:88 , id: 823 , x:12, y:27},
{index:89 , id: 824 , x:13, y:27},
{index:90 , id: 825 , x:14, y:27},
    ];

	function map(char) {
		index = char.charCodeAt(0)
		if (index >= 48 && index <= 57) // 0 - 9
			inc = index - 48;		
		if (index >= 97 && index <= 122) // a-z
			inc = index - 97 + 10;
		if (index >= 65 && index <= 90) // A-Z
		 	inc = index - 65 + 36	;
		return inc;		
	}

	function calcHash(hash) {
		var index = 7
		var total = 0;
		for (var i = 0; i < hash.length; i++) {
		    total += map(hash.charAt(i)) * index;
		    index += 10;
		}
        return total;
	}

	function calc(hash) {
        var result = calcHash(hash);
        var landIndex = result % 90;
        if (landIndex == 0) landIndex = 90;
        var land = mapping[landIndex-1];
        return `HASH: ${hash}\n转化数字:${result}\n地块序号:${landIndex}\n地块ID:${land.id}, X: ${land.x}, Y: ${land.y}` + "\n";   
	}

    function calcBidIndex(hash, totalTimes) {
        var result = calcHash(hash);
        var index = result % totalTimes + 1;
        return `HASH: ${hash}\n转化数字:${result}\n共有${totalTimes}次出价，第${index}次出价者获得奖励`;        
    }

    function getLand() {
        var h = $('#hash').val();
        var result = calc(h);
        var input = $('#output').val();
        $('#output').val(input + result + "\n");
    }

    function getPersonIndex() {
        var h = $('#hash').val();
        var n = parseInt($('#times').val());
        var result = calcBidIndex(h, n);
        var input = $('#output').val();
        $('#output').val(input + result + "\n");
    }

    function test() {
        var list = ['3036756d510cc53754b769cb02184ce3b927740467d83aaa329ad888327b3dbd', 
            '8a1ef9ad3312735c102403dfc11818c5c7fbcd4b987eee667d10b9695f00ba53', 
            'fd4d351e1ef6f2aca928f4c6d66aad8c5b43099d85f8b90ee4a03bf5e69f1365', 
            'd774c0940b3bb4dd37d54a16ed2ee8cff0a0fcc6b93156d90560b24a97bf3bd8', 
            '1ba8e784284cf3633a1729c32177872442149401e305e3f43b72f7a72915d7e3', 
            'ea056d1b260b58fd586434f35498c8a1853691e67fb839efb060d6bc8d43eed0', 
            '3647a4a855819bb1ba11e7da6c7079a1e2f6ad9333300cc9b933876a70ba7c4a', 
            '321b2f8c59372ff55c96ee4f668579c8f02fc9c011ef16d59e74124352c7efe3', 
            'f6bd6b98c5922ee92ced5a2add53c23409739f135f9dacaf7566ccf28fa95eac', 
            '27fc01ccf6874c9e4ce00a9ced73ce9b3d8b09c523b53476c169005e71119bd1', 
            'de00345a3cfd88c0ba1ea3e19b2c27025e58047ccb2564c0857e0f160de33d8a', 
            '0a1a5fbf5647cb476a1072ae5e0bea918309ee344738a323d7595cec1e2e6789', 
            '0c765a244c50529f532e3d519add63501fdd798473d6df284da9fc14b7b6edde', 
            '82863577e455f39ad9a83c04354be4a4d0652626b08f63565b3ba65320e119a4', 
            '4676f7720084c5b14f9b3a98414bf9a38e1c7837107f8fcc093bd9756aa24f31', 
            'bb0fe91528781d92c969c89dc856a2cee4723851b2e85e51cfb949377e8dc4b3', 
            '03321f758028e031e5a41f1bcd5c0576c053c647a578e15db0fda56ba7eb4ea1', 
            '2ef68fcc98f31f2237ef7bc0167ad76656c22492c2308d99f4f472f315805856', 
            '83e134dc09cd1e11cf9a5b6b39432a322dfed8eda81fb46364aab6d0060e9352', 
            '4b3087a9dd497ecd44c786ea38938d686a643f556f78b57c3dfb329c3f8883fa', 
            '5e4b887a2ecb937517664420235c669cab5e2b7a4e2d650de4414bec3d9700d0', 
        ];

        var result = "";
        for (var i = 0; i < list.length ; i++ ) {
            var h = list[i];

        }

        alert(result);
    }
</script>
<html>
	<body>
		<script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
        <p>
    		<label>HASH: </label>
    		<input type="text" id="hash">
            <input type="button" onclick="getLand()" value="计算地块">
        </p>
        <p>
           <label>出价次数</label>
            <input type="text" id="times">
		      <input type="button" onclick="getPersonIndex()" value="计算拍卖">
        </p>
        <textarea id="output" style="height: 300px; width: 1000px"></textarea> 
	</body>
</html>